<!DOCTYPE html><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="baidu-site-verification" content="code-BGVivWGmxV" /><title>Markdown语法集合速查表</title><meta name="description" content="Thanks for visiting The Markdown Guide!This Markdown cheat sheet provides a quick overview of all the Markdown syntax elements. It can’t cover every edge cas..."><link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon"><link rel="icon" href="/favicon.ico?" type="image/x-icon"><link rel="stylesheet" href="/css/main.css "><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href=" /css/font_8v3czwksspqlg14i.css "><link rel="canonical" href="https://www.damonc.top/2016/03/17/markdown_cheatSheet/"><link rel="alternate" type="application/rss+xml" title="爱穿拖鞋" href="https://www.damonc.top/feed.xml "> <script src=" /js/Valine.min.js " charset="utf-8"></script> <script src=" /js/jquery_3_2_0.min.js " charset="utf-8"></script> <script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "//hm.baidu.com/hm.js?f7f1a5967e3927ea98597632f0a17ad9"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); </script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script async src="https://cdnjs.cloudflare.com/ajax/libs/js-polyfills/0.1.43/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><body class="custom-background"><header id="top"><div class="wrapper"> <a href="/" class="brand">爱穿拖鞋</a> <small>自由自在🩴</small> <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button><nav id="headerNav"><ul><li> <a href="/"> <i class="fa fa-home"></i>Home </a><li> <a href="/archive/"> <i class="fa fa-archive"></i>归档 </a><li> <a href="/category/"> <i class="fa fa-th-list"></i>分类 </a><li> <a href="/tag/"> <i class="fa fa-tags"></i>标签 </a><li> <a href="/collection/"> <i class="fa fa-bookmark"></i>收集 </a><li> <a href="/demo/"> <i class="fa fa-play"></i>工具 </a><li> <a href="/about/"> <i class="fa fa-heart"></i>About </a></ul></nav></div></header><div class="home-right-bar"> <button class="anchor"><i class="fa fa-anchor"></i></button><div class="right"><div class="wrap"><div class="side content"><div> 目录</div><ul id="content-side" class="content-ul"><li><a href="#comments">Comments</a></ul></div></div></div></div><div class="page clearfix" post><div class="left"><h1>Markdown语法集合速查表</h1><div class="label"><div class="label-card"> <i class="fa fa-calendar"></i>2016-03-17</div><div class="label-card"> <i class="fa fa-user"></i>afeng</div><div class="label-card"></div><div class="label-card"> <span class="categories"> <i class="fa fa-th-list"></i> <a href="/category/#随笔" title="Category: 随笔" rel="category">随笔</a> </span></div><div class="label-card"> <span class="pageTag"> <i class="fa fa-tags"></i> <b href="/tag/#Markdown" title="Tag: Markdown" rel="tag">Markdown</b> </span></div></div><hr><article itemscope itemtype="http://schema.org/BlogPosting"><ul id="markdown-toc"><li><a href="#basic-syntax" id="markdown-toc-basic-syntax">Basic Syntax</a><ul><li><a href="#heading" id="markdown-toc-heading">Heading</a></ul><li><a href="#h1" id="markdown-toc-h1">H1</a><ul><li><a href="#h2" id="markdown-toc-h2">H2</a><ul><li><a href="#h3" id="markdown-toc-h3">H3</a><li><a href="#bold" id="markdown-toc-bold">Bold</a><li><a href="#italic" id="markdown-toc-italic">Italic</a><li><a href="#blockquote" id="markdown-toc-blockquote">Blockquote</a><li><a href="#ordered-list" id="markdown-toc-ordered-list">Ordered List</a><li><a href="#unordered-list" id="markdown-toc-unordered-list">Unordered List</a><li><a href="#code" id="markdown-toc-code">Code</a><li><a href="#horizontal-rule" id="markdown-toc-horizontal-rule">Horizontal Rule</a><li><a href="#link" id="markdown-toc-link">Link</a><li><a href="#image" id="markdown-toc-image">Image</a></ul><li><a href="#extended-syntax" id="markdown-toc-extended-syntax">Extended Syntax</a><ul><li><a href="#table" id="markdown-toc-table">Table</a><li><a href="#fenced-code-block" id="markdown-toc-fenced-code-block">Fenced Code Block</a><li><a href="#footnote" id="markdown-toc-footnote">Footnote</a><li><a href="#heading-id" id="markdown-toc-heading-id">Heading ID</a><li><a href="#custom-id" id="markdown-toc-custom-id">My Great Heading</a><li><a href="#definition-list" id="markdown-toc-definition-list">Definition List</a><li><a href="#strikethrough" id="markdown-toc-strikethrough">Strikethrough</a><li><a href="#task-list" id="markdown-toc-task-list">Task List</a><li><a href="#emoji" id="markdown-toc-emoji">Emoji</a><li><a href="#highlight" id="markdown-toc-highlight">Highlight</a><li><a href="#subscript" id="markdown-toc-subscript">Subscript</a><li><a href="#superscript" id="markdown-toc-superscript">Superscript</a></ul><li><a href="#mathematics" id="markdown-toc-mathematics">Mathematics</a><ul><li><a href="#数学公式符号" id="markdown-toc-数学公式符号">数学公式符号</a><li><a href="#矩阵公式" id="markdown-toc-矩阵公式">矩阵公式</a><li><a href="#箭头" id="markdown-toc-箭头">箭头</a></ul><li><a href="#给字体加颜色" id="markdown-toc-给字体加颜色">给字体加颜色</a><li><a href="#加边框" id="markdown-toc-加边框">加边框</a></ul></ul><p>Thanks for visiting <a href="https://www.markdownguide.org">The Markdown Guide</a>!</p><p>This Markdown cheat sheet provides a quick overview of all the Markdown syntax elements. It can’t cover every edge case, so if you need more information about any of these elements, refer to the reference guides for <a href="https://www.markdownguide.org/basic-syntax">basic syntax</a> and <a href="https://www.markdownguide.org/extended-syntax">extended syntax</a>.</p><h2 id="basic-syntax">Basic Syntax</h2><p>These are the elements outlined in John Gruber’s original design document. All Markdown applications support these elements.</p><h3 id="heading">Heading</h3><h1 id="h1">H1</h1><h2 id="h2">H2</h2><h3 id="h3">H3</h3><h3 id="bold">Bold</h3><p><strong>bold text</strong></p><h3 id="italic">Italic</h3><p><em>italicized text</em></p><h3 id="blockquote">Blockquote</h3><blockquote><p>blockquote</p></blockquote><h3 id="ordered-list">Ordered List</h3><ol><li>First item<li>Second item<li>Third item</ol><h3 id="unordered-list">Unordered List</h3><ul><li>First item<li>Second item<li>Third item</ul><h3 id="code">Code</h3><p><code class="language-plaintext highlighter-rouge">code</code></p><h3 id="horizontal-rule">Horizontal Rule</h3><h3 id="link">Link</h3><p><a href="https://www.markdownguide.org">Markdown Guide</a></p><h3 id="image">Image</h3><p><img src="https://www.markdownguide.org/assets/images/tux.png" alt="alt text" /></p><p><img src="https://www.markdownguide.org/assets/images/tux.png" width="15%" /></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;center class="half"&gt;
  &lt;img src="" width="15%" /&gt;

  **
&lt;/center&gt;
</code></pre></div></div><center class="half"> <img src="https://www.markdownguide.org/assets/images/tux.png" width="15%" /> <img src="https://www.markdownguide.org/assets/images/tux.png" width="15%" /> *居中描述* </center><h2 id="extended-syntax">Extended Syntax</h2><p>These elements extend the basic syntax by adding additional features. Not all Markdown applications support these elements.</p><h3 id="table">Table</h3><table><thead><tr><th>Syntax<th>Description<tbody><tr><td>Header<td>Title<tr><td>Paragraph<td>Text</table><dl><dt>: 或者| 代表左对齐<dt>:–: 代表居中对齐<dd>代表右对齐</dl><h3 id="fenced-code-block">Fenced Code Block</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "firstName": "John",
  "lastName": "Smith",
  "age": 25
}
</code></pre></div></div><h3 id="footnote">Footnote</h3><p>Here’s a sentence with a footnote. <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p><h3 id="heading-id">Heading ID</h3><h3 id="custom-id">My Great Heading</h3><h3 id="definition-list">Definition List</h3><dl><dt>term<dd>definition</dl><h3 id="strikethrough">Strikethrough</h3><p><del>The world is flat.</del></p><h3 id="task-list">Task List</h3><ul class="task-list"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Write the press release<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Update the website<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Contact the media</ul><h3 id="emoji">Emoji</h3><p>That is so funny! :joy:</p><p>(See also <a href="https://www.markdownguide.org/extended-syntax/#copying-and-pasting-emoji">Copying and Pasting Emoji</a>)</p><h3 id="highlight">Highlight</h3><p>I need to highlight these ==very important words==.</p><h3 id="subscript">Subscript</h3><p>H~2~O</p><h3 id="superscript">Superscript</h3><p>X^2^</p><h2 id="mathematics">Mathematics</h2><p>The mathematics powered by <a href="https://www.mathjax.org/"><strong>MathJax</strong></a>:</p><h3 id="数学公式符号">数学公式符号</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>两个$$包围，公式会另起一行
$$ 
  a + b = c
$$
</code></pre></div></div><p>例如： \(a + b = c\) 例如：</p>\[{\sum_{n=1}^\infty} {1 \over n^2} = \frac{\pi^2}{6}\]<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>一个$包围，公式与文字同一行
When $a \ne 0$, there are two solutions to $ax^2 + bx + c = 0$ and they are
</code></pre></div></div><p>例如：When $a \ne 0$, there are two solutions to $ax^2 + bx + c = 0$ and they are</p>\[x = {-b \pm \sqrt{b^2-4ac} \over 2a}\]<blockquote class="prompt-tip"><p>两个<code class="language-plaintext highlighter-rouge">$$ xxx $$</code>包围住，数学公式会换行.</p></blockquote><blockquote class="prompt-warning"><p>一个<code class="language-plaintext highlighter-rouge">$ xxx $</code>包围住，数学公式不换行，如<em>When $a \ne 0$</em>.</p></blockquote><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; 一个红色提示
{: .prompt-danger }
</code></pre></div></div><blockquote class="prompt-danger"><p>一个红色提示</p></blockquote><div class="language-diff nolineno highlighter-rouge" file="Gemfile"><div class="highlight"><pre class="highlight"><code><span class="gd">- gem "jekyll-theme-chirpy", "~&gt; 3.2", "&gt;= 3.2.1"
</span><span class="gi">+ gem "jekyll-theme-chirpy", "~&gt; 3.3", "&gt;= 3.3.0"
</span></code></pre></div></div><h3 id="矩阵公式">矩阵公式</h3><p><code class="language-plaintext highlighter-rouge">1、矩阵</code></p><ul><li>数学公式放在 $$ 之间<li>起始标记 <code class="language-plaintext highlighter-rouge">\begin{matrix}</code>，结束标记 <code class="language-plaintext highlighter-rouge">\end{matrix}</code><li>每一行末尾标记 \，行间元素之间用 &amp; 分隔</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$$\begin{matrix}
0&amp;1&amp;1\\
1&amp;1&amp;0\\
1&amp;0&amp;1\\
\end{matrix}$$
</code></pre></div></div><p>表现如下： \(\begin{matrix} 0&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1\\ \end{matrix}\)</p><p><code class="language-plaintext highlighter-rouge">2、矩阵边框</code></p><ul><li>在起始、结束标记用下列词替换 <code class="language-plaintext highlighter-rouge">matrix</code><li><code class="language-plaintext highlighter-rouge">pmatrix</code>：小括号边框<li><code class="language-plaintext highlighter-rouge">bmatrix</code>：中括号边框$\begin{bmatrix} 0&amp;1&amp;1<br /> 1&amp;1&amp;0<br /> 1&amp;0&amp;1<br /> \end{bmatrix}$<li><code class="language-plaintext highlighter-rouge">Bmatrix</code>：大括号边框<li><code class="language-plaintext highlighter-rouge">vmatrix</code>：单竖线边框<li><code class="language-plaintext highlighter-rouge">Vmatrix</code>：双竖线边框</ul><p>表现如下： \(\begin{pmatrix} 0&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1\\ \end{pmatrix}\)</p>\[\begin{bmatrix} 0&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1\\ \end{bmatrix}\] \[\begin{Bmatrix} 0&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1\\ \end{Bmatrix}\] \[\begin{vmatrix} 0&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1\\ \end{vmatrix}\] \[\begin{Vmatrix} 0&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1\\ \end{Vmatrix}\]<p><code class="language-plaintext highlighter-rouge">3、省略元素</code></p><ul><li>横省略号：\cdots<li>竖省略号：\vdots<li>斜省略号：\ddots</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$$\begin{bmatrix}
{a_{11}}&amp;{a_{12}}&amp;{\cdots}&amp;{a_{1n}}\\
{a_{21}}&amp;{a_{22}}&amp;{\cdots}&amp;{a_{2n}}\\
{\vdots}&amp;{\vdots}&amp;{\ddots}&amp;{\vdots}\\
{a_{m1}}&amp;{a_{m2}}&amp;{\cdots}&amp;{a_{mn}}\\
\end{bmatrix}$$
</code></pre></div></div><p>表现如下： \(\begin{bmatrix} {a_{11}}&amp;{a_{12}}&amp;{\cdots}&amp;{a_{1n}}\\ {a_{21}}&amp;{a_{22}}&amp;{\cdots}&amp;{a_{2n}}\\ {\vdots}&amp;{\vdots}&amp;{\ddots}&amp;{\vdots}\\ {a_{m1}}&amp;{a_{m2}}&amp;{\cdots}&amp;{a_{mn}}\\ \end{bmatrix}\)</p><p><code class="language-plaintext highlighter-rouge">4、阵列</code></p><ul><li>需要array环境：起始、结束处以{array}声明<li>对齐方式：在{array}后以{}逐行统一声明<li>左对齐：l；居中：c；右对齐：r<li><table><tbody><tr><td>竖直线：在声明对齐方式时，插入<td>建立竖直线</table><li>插入水平线：\hline</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$$\begin{array}{c|lll}
{↓}&amp;{a}&amp;{b}&amp;{c}\\
\hline
{R_1}&amp;{c}&amp;{b}&amp;{a}\\
{R_2}&amp;{b}&amp;{c}&amp;{c}\\
\end{array}$$
</code></pre></div></div><p>表现如下：</p>\[\begin{array}{c|lll} {↓}&amp;{a}&amp;{b}&amp;{c}\\ \hline {R_1}&amp;{c}&amp;{b}&amp;{a}\\ {R_2}&amp;{b}&amp;{c}&amp;{c}\\ \end{array}\]<p><code class="language-plaintext highlighter-rouge">5、方程组</code></p><ul><li>需要cases环境：起始、结束处以{cases}声明<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$$\begin{cases}
a_1x+b_1y+c_1z=d_1\\
a_2x+b_2y+c_2z=d_2\\
a_3x+b_3y+c_3z=d_3\\
\end{cases}
$$
</code></pre></div></div><p>\(\begin{cases} a_1x+b_1y+c_1z=d_1\\ a_2x+b_2y+c_2z=d_2\\ a_3x+b_3y+c_3z=d_3\\ \end{cases}\)</p></ul><p>30^\circ 30∘” role=”presentation”&gt;30∘30∘ \bot ⊥” role=”presentation”&gt;⊥⊥ \angle A ∠A” role=”presentation”&gt;∠A∠A \sin sin” role=”presentation”&gt;sinsin \cos cos” role=”presentation”&gt;coscos \tan tan” role=”presentation”&gt;tantan \csc csc” r</p><h3 id="箭头">箭头</h3><table><tbody><tr><td>短箭头形状<td>MarkDown<tr><td>::<td> <tr><td>$\uparrow$<td>$\uparrow$<tr><td>$\Uparrow$<td>$\Uparrow$<tr><td>$\downarrow$<td>$\downarrow$<tr><td>$\Downarrow$<td>$\Downarrow$<tr><td>$\leftarrow$<td>$\leftarrow$<tr><td>$\Leftarrow$<td>$\Leftarrow$<tr><td>$\rightarrow$<td>$\rightarrow$<tr><td>$\Rightarrow$<td>$\Rightarrow$<tr><td>$\updownarrow$<td>$\updownarrow$<tr><td>$\Updownarrow$<td>$\Updownarrow$<tr><td>$\leftrightarrow$<td>$\leftrightarrow$<tr><td>$\Leftrightarrow$<td>$\Leftrightarrow$</table><table><thead><tr><th style="text-align: center">长箭头形状<th>MarkDown<tbody><tr><td style="text-align: center">$\longleftarrow$<td>$\longleftarrow$<tr><td style="text-align: center">$\Longleftarrow$<td>$\Longleftarrow$<tr><td style="text-align: center">$\longrightarrow$<td>$\longrightarrow$<tr><td style="text-align: center">$\Longrightarrow$<td>$\Longrightarrow$<tr><td style="text-align: center">$\longleftrightarrow$<td>$\longleftrightarrow$<tr><td style="text-align: center">$\Longleftrightarrow$<td>$\Longleftrightarrow$</table><h2 id="给字体加颜色">给字体加颜色</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;font color=red&gt;想变成红色的内容&lt;/font&gt;
</code></pre></div></div><font color="red">想变成红色的内容</font><h2 id="加边框">加边框</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;kbd&gt;2 3&lt;/kbd&gt;
</code></pre></div></div><p><kbd>2 3</kbd></p><p>创建脚注格式类似这样 <sup id="fnref:RUNOOB" role="doc-noteref"><a href="#fn:RUNOOB" class="footnote" rel="footnote">2</a></sup>。</p><details> <summary>查看代码</summary><pre><code>  
&nbsp;
这里写需要被折叠的代码
&nbsp;
</code></pre></details><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p>This is the footnote. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:RUNOOB" role="doc-endnote"><p>菜鸟教程 – 学的不仅是技术，更是梦想！！！ <a href="#fnref:RUNOOB" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div></article><hr><div class='like-post'> <a style="color:rgb(112, 40, 85);" id="likeBtn" onclick="likePost(1);"> <i class="fa fa-thumbs-o-up fa-2x" aria-hidden="true"></i> </a> <span id="likeNum">0</span><div class="text-xs text-slate-500 mx-2">真诚点赞，手留余香</div></div><div class="post-recent"><div class="pre"></div><div class="nex"><p><strong>下一篇</strong> <a href="/2017/10/03/CG_Function_Library/">CG函数标准库</a></p></div></div><h2 id="comments">Comments</h2><div id="vcomments"></div><script type="text/javascript"> /*评论相关*/ function delayLoadValine() { new Valine({ el: '#vcomments', verify: "true", notify: "false", app_id: "JgYk2pcFa3QxhhWPhDjjoPvv-MdYXbMMI", app_key: "fjDLTSUgCNGrSKgCID672IJx", avatar: "monsterid", placeholder: "欢迎评论！", pageSize: "10 || 10", master: "b5586e582cb181c6b0fc8b2ce828bd50", tagMeta: ["博主","小伙伴","访客"], enableQQ: true, requiredFields: [], serverURLs: "https://jgyk2pcf.api.lncldglobal.com", recordIP: "true", visitor: "true", }); $(document).ready(function(){ fetch('https://v1.hitokoto.cn/') .then(response => response.json()) .then(data => { document.getElementById("veditor").setAttribute( "placeholder", data.hitokoto+"—"+data.from ); setTimeout(() => { addPostVisitedTimes(); }, 1000); } ) .catch(console.error); }); } /*点赞相关*/ var curIpVisitRecord = null; var curPost = null; var curUrl = "https://www.damonc.top/2016/03/17/markdown_cheatSheet/"; function getVisitorIpAndJudge() { $.getJSON('https://api.ipify.org?format=json', function(data){ saveOrUpdateIpRecord(data.ip) }); } function saveOrUpdateIpRecord(ip) { var Visitor = AV.Object.extend("visitors_record"); var post_url = curUrl; var query = new AV.Query(Visitor); query.equalTo("visitor_ip", ip); query.equalTo("post_url", post_url); query.find().then(function(results) { if (results.length > 0) { /* if(window.console){ console.log('该IP已访问过该文章'); }*/ curIpVisitRecord = results[0]; updateIpRecord(); refreshLikeBtn(); } else { /*if(window.console){ console.log('该IP第一次访问该文章，保存新的访问记录，并增加访问次数'); }*/ addNewIpRecord(ip, post_url); } }, function(error) { addPostVisitedTimes(); }); } function addPostVisitedTimes() { var AV_Posts = AV.Object.extend("Posts"); var url = curUrl; var title = "Markdown语法集合速查表"; var query = new AV.Query(AV_Posts); query.equalTo("post_url", url); query.find().then(function(results) { if (results.length > 0) { curPost = results[0]; curPost.increment("visited_times"); curPost.save(); loadLikeNums(); } else { curPost = new AV_Posts(); /* Set ACL */ var acl = new AV.ACL(); acl.setPublicReadAccess(true); acl.setPublicWriteAccess(true); curPost.setACL(acl); /* End Set ACL */ curPost.set("post_title", title); curPost.set("post_url", url); curPost.set("visited_times", 1); curPost.set('like_times', 0); curPost.save(); } getVisitorIpAndJudge(); }, function(error) { console.log('Error:' + error.code + " " + error.message); }); } function showPostVisitedTimes() { var AV_Posts = AV.Object.extend("Posts"); var $visitors = $(".leancloud_visitors"); var url = $visitors.attr('id').trim(); var title = $visitors.attr('data-flag-title').trim(); var query = new AV.Query(AV_Posts); query.equalTo("post_url", url); query.find().then(function(results) { if (results.length > 0) { curPost = results[0]; loadLikeNums(); } else { /*if(window.console){ console.log('异常情况，不应该没记录的'); }*/ } }, function(error) { console.log('Error:' + error.code + " " + error.message); }); } function updateIpRecord(){ var lastTime = curIpVisitRecord.updatedAt; var curTime = new Date(); var timePassed = curTime.getTime() - lastTime.getTime(); if(timePassed > 300000) { /*if(window.console){ console.log('距离该IP上一次访问该文章已超过了5分钟，更新访问记录，并增加访问次数'); }*/ addPostVisitedTimes(); curIpVisitRecord.save(); } else { /*console.log('这是该IP 1分钟内重复访问该文章，不更新访问记录，不增加访问次数');*/ } } function addNewIpRecord(ip, post_url){ var Visitor = AV.Object.extend("visitors_record"); curIpVisitRecord = new Visitor(); /* Set ACL */ var acl = new AV.ACL(); acl.setPublicReadAccess(true); acl.setPublicWriteAccess(true); curIpVisitRecord.setACL(acl); curIpVisitRecord.set("visitor_ip", ip); curIpVisitRecord.set("post_url", post_url); curIpVisitRecord.set("like_this_post", 0); curIpVisitRecord.save(); } function loadLikeNums() { var likeTimes = curPost.get('like_times'); $("#likeNum").text(likeTimes); } function refreshLikeBtn() { var likeState = curIpVisitRecord.get('like_this_post'); if(likeState == 1){ $("#likeBtn").css("color", "red"); $("#likeBtn").attr("onclick", "likePost(-1)"); } else { $("#likeBtn").css("color", "black"); $("#likeBtn").attr("onclick", "likePost(1)"); } loadLikeNums(); } function likePost(type) { if(curPost == null || curIpVisitRecord == null) { alert('延迟10s后才能点赞, 请稍等...'); return } var newNum; var getlikeTime = curPost.get('like_times'); if(typeof getlikeTime == "undefined" || getlikeTime == null || getlikeTime == "") { newNum = parseInt(type); }else{ newNum = parseInt(type) + parseInt(getlikeTime); } curPost.set('like_times', newNum); curPost.save().then(function(curPost){ var likeThisPost = type == -1 ? 0 : 1; curIpVisitRecord.set("like_this_post", likeThisPost); curIpVisitRecord.save().then(function(){ refreshLikeBtn(); }); },function(error){ console.log('Failed to create visitor record, with error message: ' + error.message); }); } /*启动执行*/ setTimeout(() => { delayLoadValine(); }, 10000); </script></div></div><script> /** * target _blank */ (function() { var aTags = document.querySelectorAll('article a:not([id])'); for (var i = 0; i < aTags.length; i++) { aTags[i].setAttribute('target', '_blank'); } }()); </script> <script src="/js/pageContent.js " charset="utf-8"></script><footer class="site-footer"><div class="wrapper"><p class="description"> 云上的日子!</p><p class="contact"> <a href="https://github.com/bitfeng" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> <a href="mailto:damonc@126.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a></p><p> 本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次</p></div></footer><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="back-to-top"> <a href="#top" data-scroll> <i class="fa fa-arrow-up" aria-hidden="true"></i> </a></div><script src=" /js/main.js " charset="utf-8"></script> <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script> <script type="text/javascript"> smoothScroll.init({ speed: 500, easing: 'easeInOutCubic', offset: 20, }); function displayWindowSize() { var w = document.documentElement.clientWidth; var h = document.documentElement.clientHeight; var rightDiv = document.querySelector('.right'); var footer = document.querySelector('.site-footer'); if(!rightDiv || !footer){ return; } if(w <= 1700){ rightDiv.style.display='none'; footer.style.display='none'; }else{ rightDiv.style.display='block'; footer.style.display = "block"; } } window.addEventListener("resize", displayWindowSize); displayWindowSize(); </script>
